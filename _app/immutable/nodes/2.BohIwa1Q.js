import{a as C,t as Z}from"../chunks/disclose-version.C_LNC0YU.js";import{T as X,ap as ve,aq as _e,y as ae,ar as ge,as as ye,ak as me,p as $,ao as R,a as ce,t as ee,i as te,q as c,g as s,f as ke,s as w,j as M,k as O,h as re,at as xe,au as be,av as J,aw as q}from"../chunks/runtime.C62SmBE5.js";import{d as we,a as F}from"../chunks/store.BegEmyLu.js";import{p as K,a as N}from"../chunks/props.D1BuS8Sn.js";import{i as Ee}from"../chunks/lifecycle.BJfOM64V.js";let ne=!1;function de(){ne||(ne=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Ne(e){if(X){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;H(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var a=e.checked;H(e,"checked",null),e.checked=a}}};e.__on_r=r,ve(r),de()}}function H(e,t,r,n){var a=e.__attributes??(e.__attributes={});X&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[_e]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ae(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var le=new Map;function Ae(e){var t=le.get(e.nodeName);if(t)return t;le.set(e.nodeName,t=[]);for(var r,n=ae(e),a=Element.prototype;a!==n;){r=ge(n);for(var l in r)r[l].set&&t.push(l);n=ae(n)}return t}function Y(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function Re(e,t,r,n=r){e.addEventListener(t,r);const a=e.__on_r;a?e.__on_r=()=>{a(),n()}:e.__on_r=n,de()}function Pe(e,t,r=t){var n=ye();Re(e,"input",()=>{var a=ie(e)?oe(e.value):e.value;r(a),n&&a!==(a=t())&&(e.value=a??"")}),me(()=>{var a=t();if(X&&e.defaultValue!==e.value){r(e.value);return}ie(e)&&a===oe(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function ie(e){var t=e.type;return t==="number"||t==="range"}function oe(e){return e===""?null:+e}const Q="LPAREN",pe="RPAREN",G="PLUS",D="PARALLEL",V="NUMBER",B="TIMES",U="DIVIDE",Le="DONE";class Me{get_next_token(){return this.tokens.shift()}constructor(t){this.tokens=t,this.current_token=this.get_next_token()}error(){console.error("Parsing errror",this.current_token)}eat(t){this.current_token.type==t?this.current_token=this.get_next_token():this.error()}factor(){let t=this.current_token;if(t.type==V)return this.eat(V),t;if(t.type==Q){this.eat(Q);let r=this.expr();return this.eat(pe),r}}term(){let t=this.factor();for(;[D,B,U].includes(this.current_token.type);){let r=this.current_token;r.type==D?this.eat(D):r.type==B?this.eat(B):r.type==U&&this.eat(U),t={left:t,op:r,right:this.factor()}}return t}expr(){let t=this.term();for(;[G].includes(this.current_token.type);){let r=this.current_token;r.type==G&&this.eat(G),t={left:t,op:r,right:this.term()}}return t}parse(){return this.expr()}}function ue(e,t){return 1/(1/e+1/t)}const I=[{value:1e-15,symbol:"f",name:"Femto"},{value:1e-12,symbol:"p",name:"Pico"},{value:1e-9,symbol:"n",name:"Nano"},{value:1e-6,symbol:"u",name:"Micro"},{value:.001,symbol:"m",name:"Milli"},{value:1,symbol:"",name:""},{value:1e3,symbol:"k",name:"Kilo"},{value:1e6,symbol:"M",name:"Mega"},{value:1e9,symbol:"G",name:"Giga"},{value:1e12,symbol:"T",name:"Tera"}];function z(e){let t=parseFloat(e),r="eE";if(r.includes(e))throw new Error("Missing Base");if(r.includes(e.charAt(e.length-1)))throw new Error("Missing Exponent");return I.forEach(n=>{e.charAt(e.length-1).includes(n.symbol)&&(t*=n.value)}),t}function he(e,t="resistance"){if(e=e+"",e=="")return;let r=[];function n(i){let o;if([["|",D],["(",Q],[")",pe],["+",G],["*",B],["/",U]].forEach(u=>{u[0]===i&&(o=u[1])}),o===void 0)throw new Error('"'+i+'" not valid');return o}let a=!1,l="",f="0123456789.-";f+="eE",I.forEach(i=>{f+=i.symbol});for(let i in e){let o=e[i];if(o===" ")continue;let h=f.includes(o);h&&(l+=o),a=l.length>0,!h&&a?(r.push({token:l,type:V}),l="",a=!1,r.push({token:o,type:n(o)})):h||r.push({token:o,type:n(o)})}if(a&&r.push({token:l,type:V}),r.push({type:Le}),r.length==2&&r[0].type==V)return z(r[0].token);let v=new Me(r).parse();function g(i){let o;if(i.left===void 0||i.right===void 0)throw new Error("Incomplete expression");i.left.type==V?o=z(i.left.token):o=g(i.left);let h;if(i.right.type==V?h=z(i.right.token):h=g(i.right),i.op.type==D)return t==="resistance"?ue(o,h):o+h;if(i.op.type==G)return t==="resistance"?o+h:ue(o,h);if(i.op.type==B)return o*h;if(i.op.type==U)return o/h;console.info("You should not be here!",i.op.type,i.op.type==D)}let d="Parsing Error";try{d=g(v)}catch(i){return console.error("PARSING ERROR"),console.log(i),console.log(JSON.stringify(v)),"Parsing error: "+i.message}return d}let Oe=[{exp:"(1+1)",assert:2},{exp:"(100+100+100)",assert:300},{exp:"1",assert:1},{exp:"1|1",assert:.5},{exp:"1|1|1|1",assert:.25},{exp:"1|1|1|1+1",assert:1.25},{exp:"1|1|(0.5+1|1)|1+1",assert:1.25},{exp:"1k*2k",assert:1e3*2e3},{exp:"3*7k+1",assert:3*7e3+1},{exp:"2+3*7k+1",assert:2+3*7e3+1},{exp:"2+3*7k+1|1",assert:2+3*7e3+.5},{exp:"(1|1)",assert:.5},{exp:"(1|1)*2",assert:1},{exp:"2*(1|1)",assert:1},{exp:"1+2*(1|1)",assert:2},{exp:"10+2*2+(1|1)",assert:10+2*2+.5},{exp:"7*3",assert:7*3},{exp:"7*3/2",assert:7*3/2},{exp:"7/11*3/2",assert:7/11*3/2},{exp:"7/11*3/2+1",assert:7/11*3/2+1},{exp:"(7/11*3/2+1)/5",assert:(7/11*3/2+1)/5}],W=!0;Oe.forEach(e=>{let t=he(e.exp);t!=e.assert&&(console.error("Test failed!!"),console.log("Test:",JSON.stringify(e),"Result:",t,"Expected",e.assert),W=!1)});W&&console.log("All tests passed!");function x(e){if(isNaN(e))return console.log("Not a number"),e;if(!isFinite(e))return console.log("Infinite number"),e;let t=!1,r=I[0];if(!(e<r.value))for(let a=0;a<I.length;a++){let l=I[a];if(a==I.length-1)break;let f=I[a+1].value;e<f&&!t&&(r=l,t=!0)}let n=e;if(t){n=e/r.value;let a=1e3;return n=Math.round(n*a)/a,n+""+r.symbol}else return parseFloat(n).toPrecision(3)}let fe=[{n:1,assert:"1"},{n:1e3,assert:"1k"},{n:1e6,assert:"1M"},{n:1e9,assert:"1G"},{n:1e12,assert:"1.00e+12"},{n:1e15,assert:"1.00e+15"},{n:13123123123123122e-1,assert:"1.31e+15"},{n:0x4f9494ccaafb3,assert:"1.40e+15"},{n:1/3,assert:"333.333m"},{n:.001,assert:"1m"},{n:1e-6,assert:"1u"},{n:1e-9,assert:"1n"},{n:1e-12,assert:"1p"},{n:1e-15,assert:"1f"},{n:1e-18,assert:"1.00e-18"},{n:1001,assert:"1.001k"},{n:.001,assert:"1m"},{n:1e-6,assert:"1u"},{n:1e-9,assert:"1n"},{n:1e-12,assert:"1p"},{n:1e-15,assert:"1f"},{n:1e-18,assert:"1.00e-18"},{n:13123123123123122e-31,assert:"1.312f"},{n:13999931231231231e-31,assert:"1.4f"},{n:.001/3,assert:"333.333u"}];W=!0;for(let e=0;e<fe.length;e++){let t=fe[e],r=x(t.n);if(r!=t.assert){console.error("Test failed!!"),console.log("Test:",t,"Result:",r,"Expected",t.assert),W=!1;break}}W?console.log("All stringify tests passed!"):console.error("Test failed");function Ve(e,t,r,n,a,l,f,p){c(t,"");let v=e.target.value;if(c(r,N((v===""||v===void 0)&&!s(n))),s(r)){a(void 0),c(l,!1);return}try{a(he(v,"resistance")),c(l,!1)}catch(d){c(l,!0),console.log("Setting error flag"),a(d.message)}function g(d){if(d===void 0)return"";if(typeof d=="string")return c(l,!0),d;if(isNaN(d))return c(l,!0),"Not a number";if(d===0&&!f())return c(l,!0),"Zero not valid";if(!isFinite(d))return c(l,!0),"Infinity";let i=x(d);return c(l,!1),"["+i+p.unit+"]"}c(t,N(g(a())))}var Ie=Z('<div class="frame svelte-1psfcck"><div class="input_div_with_columns svelte-1psfcck"><label class="svelte-1psfcck"> </label> <input type="text" class="svelte-1psfcck"> <label class="svelte-1psfcck"> </label> <br class="svelte-1psfcck"> <div class="svelte-1psfcck"> </div></div></div>');function T(e,t){$(t,!0);let r=K(t,"value",15),n=K(t,"resultsSideDisplayValue",7),a=K(t,"allowZeros",3,!1),l=R(!0),f=R(!1),p=R(""),v=R(N({}));ce(()=>{c(v,N(t.data[t.key]))});let g=ke(()=>{var m,k;return(k=(m=s(v))==null?void 0:m.placeholder)==null?void 0:k.includes("=")});var d=Ie(),i=M(d),o=M(i),h=M(o,!0);O(o);var u=w(o,2);Ne(u),u.__input=[Ve,p,l,g,n,f,a,t];var A=w(u,2),_=M(A,!0);O(A);var b=w(A,4),y=M(b,!0);O(b),O(i),O(d),ee(()=>{var m,k,E;F(h,(m=s(v))==null?void 0:m.name),u.readOnly=s(g),H(u,"placeholder",(k=s(v))==null?void 0:k.placeholder),Y(u,"error",s(f)),Y(u,"emptyInput",s(l)),Y(u,"showing_result",s(g)),F(_,(E=s(v))==null?void 0:E.extra),F(y,s(p))}),Pe(u,r),C(e,d),te()}we(["input"]);var Te=Z("<h3> </h3> <!> <!> <!> <!>",1);function Se(e,t){$(t,!0);let r=R(void 0),n=R(void 0),a=R(void 0),l=R(void 0),f=R(0),p=R(N({}));function v(){let _=JSON.stringify({vin:{placeholder:"Vin",extra:"",name:"Vin"},rhigh:{placeholder:"Vout",extra:"",name:"Rhigh"},rlow:{placeholder:"10|4+2",name:"Rlow"},vout:{placeholder:"Rhihg",extra:"",name:"Vout"}});function b(j){return j!=null&&j!==""}let y=0;if(b(s(r))&&(y+=1),b(s(l))&&(y+=1),b(s(a))&&(y+=1),b(s(n))&&(y+=1),console.log("Okays",y),y<3)return c(p,N(JSON.parse(_))),"Please fill in tree fields";if(y==4)return"Please leave one field empty";let m=s(r),k=s(l),E=s(a),P=s(n);b(s(r))||(m=s(n)*(s(l)+s(a))/s(l),s(p).vin.placeholder="="+x(m)+"V"),b(s(n))||(P=s(r)*s(l)/(s(l)+s(a)),s(p).vout.placeholder="="+x(P)+"V"),b(s(l))||(k=(s(r)-s(n))*s(a)/s(n),s(p).rhigh.placeholder="="+x(k)+"Ω"),b(s(a))||(E=(s(r)-s(n))*s(l)/s(n),s(p).rlow.placeholder="="+x(E)+"Ω");let L=m-P,S=L*L/(E+k);L=P;let se=L*L/(E+k);s(p).vin.extra=x(S+se)+"W",s(p).vin.extra+=", "+x(m/(k+E))+"A",s(p).rhigh.extra=x(S)+"W",s(p).rlow.extra=x(se)+"W"}ce(()=>{s(r)&&s(l)&&s(a)&&s(n),setTimeout(()=>{c(f,N(v()))},0)});var g=Te(),d=re(g),i=M(d);O(d);var o=w(d,2);T(o,{get value(){return s(r)},set value(_){c(r,N(_))},get data(){return s(p)},key:"vin",unit:"V"});var h=w(o,2);T(h,{get value(){return s(l)},set value(_){c(l,N(_))},get data(){return s(p)},key:"rhigh",unit:"Ω"});var u=w(h,2);T(u,{get value(){return s(a)},set value(_){c(a,N(_))},get data(){return s(p)},key:"rlow",unit:"Ω"});var A=w(u,2);T(A,{get value(){return s(n)},set value(_){c(n,N(_))},get data(){return s(p)},key:"vout",unit:"V"}),ee(()=>F(i,`Message:${s(f)??""}`)),C(e,g),te()}var De=Z("<h3> </h3> <!> <!> <!>",1);function Je(e,t){$(t,!1);const r=J();let n=J(),a=J(),l=J(),f=J({});function p(u,A,_){let b=JSON.stringify({voltage:{placeholder:"Voltage",extra:"",name:"Voltage"},resistance:{placeholder:"Resistance",extra:"",name:"Resistance"},current:{placeholder:"Current",extra:"",name:"Current"}});function y(S){return S!=null&&S!==""}let m=0;if(y(A)&&(m+=1),y(_)&&(m+=1),y(u)&&(m+=1),m<2)return c(f,JSON.parse(b)),"Please fill in two fields";if(m==3)return"Please leave one field empty";let k=0,E=0,P=0;y(u)||(E=A*_,q(f,s(f).voltage.placeholder="="+x(E)+"V")),y(A)||(k=u/_,q(f,s(f).resistance.placeholder="="+x(k)+"Ω")),y(_)||(P=u/A,q(f,s(f).current.placeholder="="+x(P)+"A"));let L=u*_;q(f,s(f).voltage.extra=x(L)+"W")}xe(()=>(s(n),s(l),s(a)),()=>{c(r,p(s(n),s(l),s(a)))}),be(),Ee();var v=De(),g=re(v),d=M(g);O(g);var i=w(g,2);T(i,{get value(){return s(n)},set value(u){c(n,u)},get data(){return s(f)},key:"voltage",unit:"V",$$legacy:!0});var o=w(i,2);T(o,{get value(){return s(a)},set value(u){c(a,u)},get data(){return s(f)},key:"current",unit:"A",$$legacy:!0});var h=w(o,2);T(h,{get value(){return s(l)},set value(u){c(l,u)},get data(){return s(f)},key:"resistance",unit:"Ω",$$legacy:!0}),ee(()=>F(d,`Message:${s(r)??""}`)),C(e,v),te()}var Fe=Z("<h2>Voltage Divider</h2> <!> <h2>Ohms Law</h2> <!>",1);function Ce(e){var t=Fe(),r=w(re(t),2);Se(r,{});var n=w(r,4);Je(n,{}),C(e,t)}export{Ce as component};
